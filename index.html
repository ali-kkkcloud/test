<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="stock.css">
    <link rel="stylesheet" href="inventory.css">
    <title>Cautio Dashboard</title>
    <link rel="icon" href="favicon.ico">
    
    <!-- Supabase -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body class="__variable_3c557b dark font-sans dark:bg-dark-fill-base-400 locale-en" style="--primary-font:'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'">
    
    <!-- Loading Overlay -->
    <div id="loadingOverlay" class="fixed inset-0 bg-black bg-opacity-75 hidden z-50 flex items-center justify-center">
        <div class="flex flex-col items-center">
            <div id="nprogress">
                <div class="bar">
                    <div class="peg"></div>
                </div>
                <div class="spinner">
                    <div class="spinner-icon"></div>
                </div>
            </div>
            <div class="mt-8 text-center">
                <div class="text-heading-6 dark:text-dark-base-600 mb-2">Processing...</div>
                <div class="text-body-l-regular dark:text-dark-base-500">Please wait</div>
            </div>
        </div>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="ml-5 min-h-screen flex-1 pr-6" style="padding-left:4.68rem;padding-top:0">
        <div>
            <div class="grid grid-cols-2">
                <div class="relative flex items-center justify-center sm:mt-0">
                    <div class="absolute inset-0 h-full px-[3.5rem]">
                        <div class="lines hidden sm:flex sm:h-full sm:w-full sm:justify-between">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="relative z-10 flex items-center justify-center sm:mt-0 sm:h-screen">
                        <img alt="Auth" fetchpriority="high" width="436" height="436" decoding="async" data-nimg="1" style="color:transparent" srcset="main-logo.png 1x, main-logo-1.png 2x" src="main-logo-1.png">
                    </div>
                </div>
                <div class="flex justify-center self-center">
                    <div class="flex w-[27.18rem] flex-col p-4">
                        <div class="flex justify-center">
                            <svg class="h-[3.8rem] w-[3.8rem] rounded-2xl" width="60" height="60" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="1080" height="1080" fill="#0026A3"></rect>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M173 540.227C173 758.862 308.449 913 540.568 913C771.596 913 907.044 758.862 907.044 540.227C907.044 322.685 771.596 168 540.568 168C308.449 168.547 173 322.685 173 540.227ZM694.04 409.592C700.048 409.592 704.963 414.511 704.963 420.524C704.963 427.629 704.964 435.282 705.51 442.934C707.694 550.065 710.425 684.526 543.845 743.558C541.66 744.104 538.93 744.104 536.745 743.558C370.165 684.526 372.896 549.519 375.081 442.934C375.081 435.282 375.627 427.629 375.627 420.524C375.627 414.511 380.542 409.592 386.55 409.592C445.536 407.952 492.506 390.461 532.922 354.933C537.291 351.107 543.845 351.107 548.214 354.933C588.084 389.915 635.054 407.406 694.04 409.592Z" fill="white"></path>
                            </svg>
                        </div>
                        <div class="my-8 flex flex-col items-center gap-2">
                            <span class="text-heading-6 text-dark-base-600">Sign in</span>
                        </div>
                        <form id="loginForm" class="gap-4" novalidate="">
                            <div class="mb-5">
                                <div class="flex flex-col items-start">
                                    <label for="loginEmail" class="mb-2 inline-block dark:text-body-l-semibold dark:text-dark-base-600">Email</label>
                                    <div class="relative flex w-full items-center">
                                        <input id="loginEmail" style="padding-right:16px" class="w-full rounded-lg border p-3 outline-none outline-offset-0 dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 dark:focus:outline-brand-blue-600" type="email" placeholder="example@gmail.com" name="email" value="">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-3 mt-5">
                                <div class="flex flex-col items-start">
                                    <label for="loginPassword" class="mb-2 inline-block dark:text-body-l-semibold dark:text-dark-base-600">Password</label>
                                    <div class="relative flex w-full items-center">
                                        <input id="loginPassword" style="padding-right: 44px;" class="w-full rounded-lg border p-3 outline-none outline-offset-0 dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 dark:focus:outline-brand-blue-600" type="password" placeholder="Password" name="password" value="">
                                        <div class="absolute right-2 top-1/2 flex -translate-y-1/2 items-center space-x-2">
                                            <span class="cursor-pointer" onclick="togglePasswordVisibility()">
                                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-eye h-6 w-6 text-dark-stroke-base-600">
                                                    <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                                    <circle cx="12" cy="12" r="3"></circle>
                                                </svg>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <a class="flex cursor-pointer justify-start text-body-m-medium dark:text-brand-blue-600" onclick="showForgotPasswordPage()">Forgot Password?</a>
                            <div>
                                <button class="flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-body-s-semibold disabled:cursor-not-allowed disabled:opacity-50 dark:text-utility-white dark:bg-brand-blue-600 dark:shadow-[0px_0.5px_1px_0px_rgba(255,255,255,0.50)inset] dark:hover:bg-brand-blue-500 disabled:dark:hover:bg-brand-blue-600 mt-4 w-full" type="submit">Login</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Forgot Password Page -->
    <div id="forgotPasswordPage" class="hidden ml-5 min-h-screen flex-1 pr-6" style="padding-left:4.68rem;padding-top:0">
        <div>
            <div class="grid grid-cols-2">
                <div class="relative flex items-center justify-center sm:mt-0">
                    <div class="absolute inset-0 h-full px-[3.5rem]">
                        <div class="lines hidden sm:flex sm:h-full sm:w-full sm:justify-between">
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                            <div class="line"></div>
                        </div>
                    </div>
                    <div class="relative z-10 flex items-center justify-center sm:mt-0 sm:h-screen">
                        <img alt="Auth" fetchpriority="high" width="436" height="436" decoding="async" data-nimg="1" style="color:transparent" srcset="main-logo.png 1x, main-logo-1.png 2x" src="main-logo-1.png">
                    </div>
                </div>
                <div class="flex justify-center self-center">
                    <div class="flex w-[27.18rem] flex-col p-4">
                        <div class="flex justify-center">
                            <svg class="h-[3.8rem] w-[3.8rem] rounded-2xl" width="60" height="60" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <rect width="1080" height="1080" fill="#0026A3"></rect>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M173 540.227C173 758.862 308.449 913 540.568 913C771.596 913 907.044 758.862 907.044 540.227C907.044 322.685 771.596 168 540.568 168C308.449 168.547 173 322.685 173 540.227ZM694.04 409.592C700.048 409.592 704.963 414.511 704.963 420.524C704.963 427.629 704.964 435.282 705.51 442.934C707.694 550.065 710.425 684.526 543.845 743.558C541.66 744.104 538.93 744.104 536.745 743.558C370.165 684.526 372.896 549.519 375.081 442.934C375.081 435.282 375.627 427.629 375.627 420.524C375.627 414.511 380.542 409.592 386.55 409.592C445.536 407.952 492.506 390.461 532.922 354.933C537.291 351.107 543.845 351.107 548.214 354.933C588.084 389.915 635.054 407.406 694.04 409.592Z" fill="white"></path>
                            </svg>
                        </div>
                        <div class="my-8 flex flex-col items-center gap-2">
                            <span class="text-heading-6 text-dark-base-600">Reset Password</span>
                            <span class="text-body-m-regular dark:text-dark-base-500 text-center">Enter your email address and we'll send you a link to reset your password</span>
                        </div>
                        <form id="forgotPasswordForm" class="gap-4" novalidate="">
                            <div class="mb-5">
                                <div class="flex flex-col items-start">
                                    <label for="resetEmail" class="mb-2 inline-block dark:text-body-l-semibold dark:text-dark-base-600">Email Address</label>
                                    <div class="relative flex w-full items-center">
                                        <input id="resetEmail" style="padding-right:16px" class="w-full rounded-lg border p-3 outline-none outline-offset-0 dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 dark:focus:outline-brand-blue-600" type="email" placeholder="Enter your email address" name="resetEmail" value="" required>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <div class="text-body-s-regular dark:text-dark-base-500 text-center p-3 rounded-lg dark:bg-dark-fill-base-300">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 inline-block mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                                    </svg>
                                    Check your email for the reset link. The link will expire in 1 hour.
                                </div>
                            </div>

                            <div class="space-y-3">
                                <button class="flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-body-s-semibold disabled:cursor-not-allowed disabled:opacity-50 dark:text-utility-white dark:bg-brand-blue-600 dark:shadow-[0px_0.5px_1px_0px_rgba(255,255,255,0.50)inset] dark:hover:bg-brand-blue-500 disabled:dark:hover:bg-brand-blue-600 w-full" type="submit">
                                    Send Reset Link
                                </button>
                                
                                <button type="button" onclick="backToLogin()" class="flex items-center justify-center gap-x-2 rounded-full px-5 py-3 text-body-s-semibold dark:text-dark-base-600 dark:bg-dark-stroke-base-400 hover:dark:bg-dark-stroke-base-600 w-full">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />
                                    </svg>
                                    Back to Login
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="hidden min-h-screen dark:bg-dark-fill-base-400">
        <!-- Enhanced Sidebar -->
        <div id="sidebar" class="sidebar collapsed fixed left-0 top-0 h-full dark:bg-dark-fill-base-300 dark:border-r dark:border-dark-stroke-contrast-400 z-50 transition-all duration-300">
            <!-- Fixed Hamburger Menu Button -->
            <div class="sidebar-header flex items-center justify-between p-4 dark:border-b dark:border-dark-stroke-contrast-400 h-20">
                <div class="flex items-center min-w-0 overflow-hidden">
                    <svg class="h-8 w-8 rounded-lg flex-shrink-0" width="32" height="32" viewBox="0 0 1080 1080" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="1080" height="1080" fill="#0026A3"></rect>
                        <path fill-rule="evenodd" clip-rule="evenodd" d="M173 540.227C173 758.862 308.449 913 540.568 913C771.596 913 907.044 758.862 907.044 540.227C907.044 322.685 771.596 168 540.568 168C308.449 168.547 173 322.685 173 540.227ZM694.04 409.592C700.048 409.592 704.963 414.511 704.963 420.524C704.963 427.629 704.964 435.282 705.51 442.934C707.694 550.065 710.425 684.526 543.845 743.558C541.66 744.104 538.93 744.104 536.745 743.558C370.165 684.526 372.896 549.519 375.081 442.934C375.081 435.282 375.627 427.629 375.627 420.524C375.627 414.511 380.542 409.592 386.55 409.592C445.536 407.952 492.506 390.461 532.922 354.933C537.291 351.107 543.845 351.107 548.214 354.933C588.084 389.915 635.054 407.406 694.04 409.592Z" fill="white"></path>
                    </svg>
                    <span class="menu-text ml-3 text-body-l-semibold dark:text-dark-base-600 truncate whitespace-nowrap">Cautio</span>
                </div>
                <button id="hamburgerBtn" class="hamburger-button p-2 rounded-lg hover:dark:bg-dark-fill-base-600 flex-shrink-0">
                    <div class="hamburger-menu-icon">
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                        <span class="hamburger-line"></span>
                    </div>
                </button>
            </div>

            <!-- Enhanced Menu Items -->
            <nav class="sidebar-nav flex-1 overflow-y-auto py-4">
                <div class="px-2 space-y-2">
                    <a href="#" onclick="showCustomersOverview()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600 transition-all duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="m22 21-3-3"/>
                        </svg>
                        <span class="menu-text ml-3 truncate whitespace-nowrap">Customers Overview</span>
                    </a>
                    <a href="#" onclick="showStock()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600 transition-all duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                            <polyline points="3.27,6.96 12,12.01 20.73,6.96"/>
                            <line x1="12" y1="22.08" x2="12" y2="12"/>
                        </svg>
                        <span class="menu-text ml-3 truncate whitespace-nowrap">Stock</span>
                    </a>
                    <a href="#" onclick="showFinance()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600 transition-all duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M12 2v20m8-9a8 8 0 1 1-16 0 8 8 0 0 1 16 0Z"/>
                        </svg>
                        <span class="menu-text ml-3 truncate whitespace-nowrap">Finance</span>
                    </a>
                    <a href="#" onclick="showInventoryManagement()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600 transition-all duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z"/>
                            <path d="m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9"/>
                            <path d="M12 3v6"/>
                        </svg>
                        <span class="menu-text ml-3 truncate whitespace-nowrap">Inventory Management</span>
                    </a>
                    <a href="#" onclick="showGroundOperations()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600 transition-all duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                        </svg>
                        <span class="menu-text ml-3 truncate whitespace-nowrap">Ground Operations</span>
                    </a>
                    <a href="#" onclick="showAddCredentials()" class="menu-item flex items-center p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 hover:dark:text-dark-base-600 transition-all duration-200">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="flex-shrink-0">
                            <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                            <circle cx="12" cy="16" r="1"/>
                            <path d="m7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                        <span class="menu-text ml-3 truncate whitespace-nowrap">Add Credentials</span>
                    </a>
                </div>
            </nav>
        </div>

        <!-- Enhanced Main Content -->
        <div id="mainContent" class="main-content sidebar-collapsed transition-all duration-300">
            <!-- Cleaner Header -->
            <div class="dashboard-header dark:bg-dark-fill-base-300 dark:border-b dark:border-dark-stroke-contrast-400 p-4 h-20 flex items-center">
                <div class="flex items-center justify-between w-full">
                    <h1 class="text-heading-6 dark:text-dark-base-600">Dashboard</h1>
                    <div class="flex items-center gap-4">
                        <!-- Customer List Dropdown -->
                        <div class="relative">
                            <button onclick="toggleCustomerDropdown()" class="flex items-center gap-2 px-4 py-2 rounded-lg dark:bg-dark-fill-base-600 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-400 transition-all duration-200">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                    <path d="m22 21-3-3"/>
                                </svg>
                                Customers
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="6,9 12,15 18,9"/>
                                </svg>
                            </button>
                            <div id="customerDropdown" class="hidden absolute right-0 top-12 w-80 max-h-60 overflow-y-auto dark:bg-dark-fill-base-300 rounded-lg shadow-xl border dark:border-dark-stroke-contrast-400 z-50">
                                <div class="p-3 border-b dark:border-dark-stroke-contrast-400">
                                    <input type="text" id="customerSearchInput" placeholder="Search customers..." class="w-full p-2 rounded-lg dark:bg-dark-fill-base-400 dark:border dark:border-dark-stroke-contrast-400 dark:text-dark-base-600 text-sm">
                                </div>
                                <div id="customerDropdownList" class="max-h-40 overflow-y-auto">
                                    <!-- Customer list will be populated here -->
                                </div>
                            </div>
                        </div>
                        
                        <!-- Logout Button -->
                        <button onclick="logout()" class="flex items-center gap-2 px-4 py-2 rounded-lg dark:bg-dark-semantic-danger-300 dark:text-utility-white hover:dark:bg-dark-semantic-danger-300/90 transition-all duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16,17 21,12 16,7"/>
                                <line x1="21" x2="9" y1="12" y2="12"/>
                            </svg>
                            Logout
                        </button>
                    </div>
                </div>
            </div>

            <!-- Content Area -->
            <div id="contentArea" class="p-6">
                <!-- Customers Overview Content -->
                <div id="customersOverviewContent">
                    <!-- Enhanced Total Customers Count -->
                    <div class="text-center mb-8">
                        <div onclick="showAllCustomers()" class="inline-block px-8 py-6 rounded-xl dark:bg-dark-fill-base-300 dark:border dark:border-dark-stroke-contrast-400 cursor-pointer hover:dark:bg-dark-fill-base-600 transition-all duration-300 hover:scale-105 hover:shadow-2xl">
                            <h2 class="text-heading-5 dark:text-dark-base-600 mb-3">Total Approved Customers</h2>
                            <p id="totalCustomersDisplay" class="text-display-3 dark:text-brand-blue-600 mb-2">0</p>
                            <p class="text-body-s-regular dark:text-dark-base-500">Click to view all approved customers</p>
                        </div>
                    </div>

                    <!-- Enhanced Dashboard Tabs -->
                    <div class="mb-6">
                        <div class="flex items-center justify-between mb-6">
                            <div class="enhanced-tabs flex space-x-1 p-1 rounded-2xl dark:bg-dark-fill-base-300/50 backdrop-blur-sm border dark:border-dark-stroke-contrast-400/30">
                                <button onclick="showAllTab()" class="tab-button active" id="allTab">
                                    <span class="tab-label">All</span>
                                    <span class="tab-count" id="allCount">0</span>
                                </button>
                                <button onclick="showPOCTab()" class="tab-button" id="pocTab">
                                    <span class="tab-label">POC</span>
                                    <span class="tab-count" id="pocCount">0</span>
                                </button>
                                <button onclick="showOnboardedTab()" class="tab-button" id="onboardedTab">
                                    <span class="tab-label">Onboarded</span>
                                    <span class="tab-count" id="onboardedCount">0</span>
                                </button>
                                <button onclick="showClosedTab()" class="tab-button" id="closedTab">
                                    <span class="tab-label">Closed</span>
                                    <span class="tab-count" id="closedCount">0</span>
                                </button>
                                <button onclick="showOngoingLeadsTab()" class="tab-button" id="ongoingLeadsTab">
                                    <span class="tab-label">Ongoing Leads</span>
                                    <span class="tab-count" id="ongoingLeadsCount">0</span>
                                </button>
                            </div>
                            
                            <!-- Enhanced Search Bar -->
                            <div class="search-section flex items-center gap-3">
                                <div class="search-container relative">
                                    <input type="text" id="searchInput" placeholder="Search customers..." class="search-input w-80 rounded-xl border p-3 pl-12 pr-4 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-300 dark:text-dark-base-600 dark:focus:border-brand-blue-600 transition-all duration-200 focus:scale-105">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="search-icon absolute left-4 top-1/2 transform -translate-y-1/2 dark:text-dark-base-500">
                                        <circle cx="11" cy="11" r="8"/>
                                        <path d="m21 21-4.35-4.35"/>
                                    </svg>
                                    <button onclick="clearSearch()" class="clear-search-btn absolute right-3 top-1/2 transform -translate-y-1/2 opacity-0 transition-opacity duration-200">
                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-500 hover:dark:text-dark-base-600">
                                            <path d="m18 6-12 12"/>
                                            <path d="m6 6 12 12"/>
                                        </svg>
                                    </button>
                                </div>
                                <button onclick="clearSearch()" class="px-6 py-3 rounded-xl dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold transition-all duration-200 hover:scale-105">
                                    Clear
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Content -->
                    <div id="tabContent">
                        <!-- All Tab Content -->
                        <div id="allTabContent">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-heading-6 dark:text-dark-base-600">All Approved Customers</h3>
                            </div>
                            <div id="allCustomersList" class="space-y-2">
                                <!-- All customers will be populated here -->
                            </div>
                            <div id="allEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <path d="m22 21-3-3"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Customers Found</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No approved customers available</p>
                            </div>
                        </div>

                        <!-- POC Tab Content -->
                        <div id="pocTabContent" class="hidden">
                            <div class="flex justify-between items-center mb-6">
                                <div>
                                    <h3 class="text-heading-6 dark:text-dark-base-600">POC Customers</h3>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mt-1">Only approved customers are shown here</p>
                                </div>
                            </div>
                            <div id="pocCustomersList" class="space-y-2">
                                <!-- POC customers will be populated here -->
                            </div>
                            <div id="pocEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <circle cx="22" cy="11" r="3"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No POC Customers</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No approved POC customers found</p>
                            </div>
                        </div>

                        <!-- Onboarded Tab Content -->
                        <div id="onboardedTabContent" class="hidden">
                            <div class="flex justify-between items-center mb-6">
                                <div>
                                    <h3 class="text-heading-6 dark:text-dark-base-600">Onboarded Customers</h3>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mt-1">Only approved customers are shown here</p>
                                </div>
                            </div>
                            <div id="onboardedCustomersList" class="space-y-2">
                                <!-- Onboarded customers will be populated here -->
                            </div>
                            <div id="onboardedEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <circle cx="22" cy="11" r="3"/>
                                        <path d="m16 11 2 2 4-4"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Onboarded Customers</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No approved onboarded customers found</p>
                            </div>
                        </div>

                        <!-- Closed Tab Content -->
                        <div id="closedTabContent" class="hidden">
                            <div class="flex justify-between items-center mb-6">
                                <div>
                                    <h3 class="text-heading-6 dark:text-dark-base-600">Closed Customers</h3>
                                    <p class="text-body-m-regular dark:text-dark-base-500 mt-1">Closed approved customers</p>
                                </div>
                            </div>
                            <div id="closedCustomersList" class="space-y-2">
                                <!-- Closed customers will be populated here -->
                            </div>
                            <div id="closedEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <path d="M18 8a3 3 0 0 0-3-3v-.5M15 8a3 3 0 0 0 3-3V4"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Closed Customers</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No closed customers found</p>
                            </div>
                        </div>

                        <!-- Ongoing Leads Tab Content -->
                        <div id="ongoingLeadsTabContent" class="hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-heading-6 dark:text-dark-base-600">Ongoing Leads</h3>
                            </div>
                            <div id="ongoingLeadsList" class="space-y-2">
                                <!-- Ongoing leads will be populated here -->
                            </div>
                            <div id="ongoingLeadsEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                        <circle cx="9" cy="7" r="4"/>
                                        <path d="m22 21-3-3"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Ongoing Leads</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No active leads found</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Stock Content -->
                <div id="stockContent" class="hidden">
                    <div class="mb-8">
                        <h2 class="text-heading-5 dark:text-dark-base-600 mb-2">Stock Management</h2>
                        <p class="text-body-l-regular dark:text-dark-base-500">Manage device stock and inventory</p>
                        
                        <!-- Stock Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mt-6">
                            <div class="p-4 rounded-lg dark:bg-dark-info-600/20 dark:border dark:border-dark-info-600/30">
                                <h4 class="text-body-l-semibold dark:text-dark-info-600">Total Stock</h4>
                                <p id="totalStockCount" class="text-heading-6 dark:text-dark-info-600">0</p>
                            </div>
                            <div class="p-4 rounded-lg dark:bg-dark-success-600/20 dark:border dark:border-dark-success-600/30">
                                <h4 class="text-body-l-semibold dark:text-dark-success-600">Available</h4>
                                <p id="availableStockCount" class="text-heading-6 dark:text-dark-success-600">0</p>
                            </div>
                            <div class="p-4 rounded-lg dark:bg-dark-warning-600/20 dark:border dark:border-dark-warning-600/30">
                                <h4 class="text-body-l-semibold dark:text-dark-warning-600">Allocated</h4>
                                <p id="allocatedStockCount" class="text-heading-6 dark:text-dark-warning-600">0</p>
                            </div>
                            <div class="p-4 rounded-lg dark:bg-dark-semantic-danger-300/20 dark:border dark:border-dark-semantic-danger-300/30">
                                <h4 class="text-body-l-semibold dark:text-dark-semantic-danger-300">Returned</h4>
                                <p id="returnedStockCount" class="text-heading-6 dark:text-dark-semantic-danger-300">0</p>
                            </div>
                        </div>
                    </div>

                    <!-- Stock Actions -->
                    <div class="flex gap-4 mb-6">
                        <button onclick="showAddStockForm()" class="px-6 py-3 rounded-xl dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold transition-all duration-200 hover:scale-105">
                            Add Single Device
                        </button>
                        <button onclick="showImportStockCSV()" class="px-6 py-3 rounded-xl dark:bg-dark-success-600 dark:text-utility-white hover:dark:bg-dark-success-600/90 text-body-s-semibold transition-all duration-200 hover:scale-105">
                            Import CSV
                        </button>
                        <button onclick="exportStockCSV()" class="px-6 py-3 rounded-xl dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold transition-all duration-200 hover:scale-105">
                            Export CSV
                        </button>
                    </div>

                    <!-- Stock Table -->
                    <div class="dark:bg-dark-fill-base-300 rounded-lg overflow-hidden">
                        <div class="p-4 border-b dark:border-dark-stroke-contrast-400">
                            <h3 class="text-heading-6 dark:text-dark-base-600">Stock Inventory</h3>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead class="dark:bg-dark-fill-base-400">
                                    <tr>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Sl. No.</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">PO No</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Batch No</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Inward Date</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Device Model</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Registration Number</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">IMEI</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Status</th>
                                        <th class="px-4 py-3 text-left text-body-s-semibold dark:text-dark-base-600">Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="stockTableBody">
                                    <!-- Stock data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div id="stockEmptyState" class="text-center py-12">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-4 dark:text-dark-stroke-base-400">
                            <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"/>
                            <polyline points="3.27,6.96 12,12.01 20.73,6.96"/>
                            <line x1="12" y1="22.08" x2="12" y2="12"/>
                        </svg>
                        <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Stock Items</h3>
                        <p class="text-body-l-regular dark:text-dark-base-500">Add devices to stock to get started</p>
                    </div>
                </div>

                <!-- Inventory Management Content -->
                <div id="inventoryManagementContent" class="hidden">
                    <div class="mb-8">
                        <h2 class="text-heading-5 dark:text-dark-base-600 mb-2">Inventory Management</h2>
                        <p class="text-body-l-regular dark:text-dark-base-500">Manage device inward and outward operations</p>
                    </div>

                    <!-- Inventory Tabs -->
                    <div class="mb-6">
                        <div class="enhanced-tabs flex space-x-1 p-1 rounded-2xl dark:bg-dark-fill-base-300/50 backdrop-blur-sm border dark:border-dark-stroke-contrast-400/30 w-fit">
                            <button onclick="showInwardTab()" class="tab-button active" id="inwardTab">
                                <span class="tab-label">Inward</span>
                                <span class="tab-count" id="inwardCount">0</span>
                            </button>
                            <button onclick="showOutwardTab()" class="tab-button" id="outwardTab">
                                <span class="tab-label">Outward</span>
                                <span class="tab-count" id="outwardCount">0</span>
                            </button>
                        </div>
                    </div>

                    <!-- Inventory Tab Content -->
                    <div id="inventoryTabContent">
                        <!-- Inward Tab Content -->
                        <div id="inwardTabContent">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-heading-6 dark:text-dark-base-600">Inward Devices</h3>
                                <div class="flex gap-2">
                                    <button onclick="showAddInwardForm()" class="px-6 py-3 rounded-xl dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold transition-all duration-200 hover:scale-105">
                                        Add Inward Device
                                    </button>
                                    <button onclick="showImportInwardCSV()" class="px-6 py-3 rounded-xl dark:bg-dark-success-600 dark:text-utility-white hover:dark:bg-dark-success-600/90 text-body-s-semibold transition-all duration-200 hover:scale-105">
                                        Import CSV
                                    </button>
                                </div>
                            </div>
                            <div id="inwardDevicesList" class="space-y-2">
                                <!-- Inward devices will be populated here -->
                            </div>
                            <div id="inwardEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                        <polyline points="7,10 12,15 17,10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Inward Devices</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No devices in inward inventory</p>
                            </div>
                        </div>

                        <!-- Outward Tab Content -->
                        <div id="outwardTabContent" class="hidden">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="text-heading-6 dark:text-dark-base-600">Outward Devices</h3>
                                <div class="flex gap-2">
                                    <button onclick="showAddOutwardForm()" class="px-6 py-3 rounded-xl dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold transition-all duration-200 hover:scale-105">
                                        Add Outward Device
                                    </button>
                                    <button onclick="showImportOutwardCSV()" class="px-6 py-3 rounded-xl dark:bg-dark-success-600 dark:text-utility-white hover:dark:bg-dark-success-600/90 text-body-s-semibold transition-all duration-200 hover:scale-105">
                                        Import CSV
                                    </button>
                                </div>
                            </div>
                            <div id="outwardDevicesList" class="space-y-2">
                                <!-- Outward devices will be populated here -->
                            </div>
                            <div id="outwardEmptyState" class="text-center py-16">
                                <div class="empty-state-icon mb-6">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto dark:text-dark-base-500">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                        <polyline points="17,8 12,3 7,8"/>
                                        <line x1="12" y1="3" x2="12" y2="15"/>
                                    </svg>
                                </div>
                                <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Outward Devices</h3>
                                <p class="text-body-l-regular dark:text-dark-base-500">No devices in outward inventory</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Finance Content -->
                <div id="financeContent" class="hidden">
                    <div class="mb-8">
                        <h2 class="text-heading-5 dark:text-dark-base-600 mb-2">Finance - Customer Approval System</h2>
                        <p class="text-body-l-regular dark:text-dark-base-500">Review and approve pending customer onboardings. Only approved customers will appear in Customer Overview.</p>
                        
                        <!-- Finance Stats -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                            <div class="p-4 rounded-lg dark:bg-dark-warning-600/20 dark:border dark:border-dark-warning-600/30">
                                <h4 class="text-body-l-semibold dark:text-dark-warning-600">Pending Approval</h4>
                                <p id="pendingApprovalsCount" class="text-heading-6 dark:text-dark-warning-600">0</p>
                            </div>
                            <div class="p-4 rounded-lg dark:bg-dark-success-600/20 dark:border dark:border-dark-success-600/30">
                                <h4 class="text-body-l-semibold dark:text-dark-success-600">Total Approved</h4>
                                <p id="totalApprovedCount" class="text-heading-6 dark:text-dark-success-600">0</p>
                            </div>
                            <div class="p-4 rounded-lg dark:bg-dark-semantic-danger-300/20 dark:border dark:border-dark-semantic-danger-300/30">
                                <h4 class="text-body-l-semibold dark:text-dark-semantic-danger-300">Total Rejected</h4>
                                <p id="totalRejectedCount" class="text-heading-6 dark:text-dark-semantic-danger-300">0</p>
                            </div>
                        </div>
                    </div>

                    <div id="pendingApprovalsList" class="space-y-4">
                        <!-- Pending approvals will be populated here -->
                    </div>
                    
                    <div id="financeEmptyState" class="text-center py-12">
                        <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="mx-auto mb-4 dark:text-dark-success-600">
                            <path d="M9 12l2 2 4-4"/>
                            <circle cx="12" cy="12" r="10"/>
                        </svg>
                        <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">No Pending Approvals</h3>
                        <p class="text-body-l-regular dark:text-dark-base-500">All customer onboardings have been processed</p>
                    </div>
                </div>

                <!-- Add Credentials Content -->
                <div id="addCredentialsContent" class="hidden">
                    <div class="mb-8">
                        <h2 class="text-heading-5 dark:text-dark-base-600 mb-2">User Credentials Management</h2>
                        <p class="text-body-l-regular dark:text-dark-base-500">Add and manage user credentials for dashboard access</p>
                    </div>

                    <!-- Add New Credential Form -->
                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="p-6 rounded-lg dark:bg-dark-fill-base-300 dark:border dark:border-dark-stroke-contrast-400">
                            <h3 class="text-heading-6 dark:text-dark-base-600 mb-4">Add New User</h3>
                            <form id="addCredentialForm" class="space-y-4">
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Full Name</label>
                                    <input type="text" name="fullName" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter full name" required>
                                </div>
                                
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Email Address</label>
                                    <input type="email" name="email" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter email address" required>
                                </div>
                                
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Password</label>
                                    <div class="relative">
                                        <input type="password" name="password" id="newUserPassword" class="w-full rounded-lg border p-3 pr-10 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter password" required>
                                        <button type="button" onclick="toggleNewUserPasswordVisibility()" class="absolute right-3 top-1/2 transform -translate-y-1/2">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-500">
                                                <path d="M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"></path>
                                                <circle cx="12" cy="12" r="3"></circle>
                                            </svg>
                                        </button>
                                    </div>
                                </div>
                                
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Role</label>
                                    <select name="role" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600">
                                        <option value="user">User</option>
                                        <option value="manager">Manager</option>
                                        <option value="admin">Admin</option>
                                    </select>
                                </div>
                                
                                <div>
                                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Department</label>
                                    <input type="text" name="department" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter department">
                                </div>
                                
                                <button type="submit" class="w-full py-3 px-6 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                                    Add User
                                </button>
                            </form>
                        </div>

                        <!-- Existing Users List -->
                        <div class="p-6 rounded-lg dark:bg-dark-fill-base-300 dark:border dark:border-dark-stroke-contrast-400">
                            <div class="flex items-center justify-between mb-4">
                                <h3 class="text-heading-6 dark:text-dark-base-600">Existing Users</h3>
                                <button onclick="loadCredentials()" class="px-3 py-2 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                                    Refresh
                                </button>
                            </div>
                            <div id="credentialsList" class="space-y-3 max-h-96 overflow-y-auto">
                                <!-- Credentials will be populated here -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Other page contents -->
                <div id="groundOperationsContent" class="hidden">
                    <div class="text-center py-12">
                        <h3 class="text-heading-5 dark:text-dark-base-600 mb-4">Ground Operations</h3>
                        <p class="text-body-l-regular dark:text-dark-base-500">Device rectification and ground team operations</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Fixed Add Button -->
        <div class="fixed bottom-6 right-6 z-40">
            <div class="relative">
                <button onclick="toggleAddMenu()" id="addButton" class="w-14 h-14 rounded-full dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 transition-all duration-300 flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-110">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="transform transition-transform duration-300" id="addIcon">
                        <path d="M12 5v14m7-7H5"/>
                    </svg>
                </button>
                
                <!-- Add Menu -->
                <div id="addMenu" class="absolute bottom-16 right-0 hidden">
                    <div class="flex flex-col gap-3 p-4 dark:bg-dark-fill-base-300 rounded-lg shadow-xl border dark:border-dark-stroke-contrast-400 min-w-48">
                        <button onclick="showAddLeadForm(); toggleAddMenu();" class="flex items-center gap-3 p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 transition-all duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <path d="m22 21-3-3"/>
                            </svg>
                            Add New Lead
                        </button>
                        <button onclick="showAddCustomerForm(); toggleAddMenu();" class="flex items-center gap-3 p-3 rounded-lg hover:dark:bg-dark-fill-base-600 text-body-m-semibold dark:text-dark-base-600 transition-all duration-200">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                <circle cx="9" cy="7" r="4"/>
                                <circle cx="22" cy="11" r="3"/>
                                <path d="m16 11 2 2 4-4"/>
                            </svg>
                            Add New Customer
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Include all modals from previous version -->
    <!-- Add Lead Form Modal -->
    <div id="addLeadModal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center">
        <div class="dark:bg-dark-fill-base-300 rounded-lg p-6 w-full max-w-2xl mx-4 max-h-[90vh] overflow-y-auto">
            <div class="flex items-center justify-between mb-6">
                <h2 class="text-heading-6 dark:text-dark-base-600">Add New Lead</h2>
                <button onclick="closeAddLeadForm()" class="p-2 rounded-lg hover:dark:bg-dark-fill-base-600">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="dark:text-dark-base-600">
                        <path d="m18 6-12 12"/>
                        <path d="m6 6 12 12"/>
                    </svg>
                </button>
            </div>
            
            <form id="addLeadForm" class="space-y-4">
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Inbound/Outbound</label>
                    <select name="type" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600">
                        <option>Inbound</option>
                        <option>Outbound</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Customer Name</label>
                    <input type="text" name="customerName" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter customer name" required>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Contact</label>
                    <input type="text" name="contact" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter contact information" required>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Potential Fleet Size</label>
                    <input type="number" name="fleetSize" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600" placeholder="Enter fleet size" required>
                </div>
                
                <div>
                    <label class="block text-body-l-semibold dark:text-dark-base-600 mb-2">Status</label>
                    <select name="status" class="w-full rounded-lg border p-3 outline-none dark:border-dark-stroke-contrast-400 dark:bg-dark-fill-base-400 dark:text-dark-base-600 dark:focus:border-brand-blue-600">
                        <option>New</option>
                        <option>In Progress</option>
                        <option>Qualified</option>
                        <option>Not Qualified</option>
                        <option>Converted</option>
                        <option>Closed</option>
                    </select>
                </div>
                
                <div class="flex gap-4 pt-4">
                    <button type="submit" class="flex-1 py-3 px-6 rounded-lg dark:bg-brand-blue-600 dark:text-utility-white hover:dark:bg-brand-blue-500 text-body-s-semibold">
                        Save Lead
                    </button>
                    <button type="button" onclick="closeAddLeadForm()" class="flex-1 py-3 px-6 rounded-lg dark:bg-dark-stroke-base-400 dark:text-dark-base-600 hover:dark:bg-dark-stroke-base-600 text-body-s-semibold">
                        Cancel
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Include all other modals like before... (Customer form, Stock forms, POC action, Email scheduling, etc.) -->
    <!-- [All other modals from previous version would go here for brevity] -->

    <!-- Email Status Toast -->
    <div id="emailToast" class="fixed top-4 right-4 hidden z-50 max-w-sm bg-green-600 text-white p-4 rounded-lg shadow-lg">
        <div class="flex items-center">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
            </svg>
            <span id="emailToastMessage">Email sent successfully!</span>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="stock.js"></script>
    <script src="inventory.js"></script>
</body>
</html>
